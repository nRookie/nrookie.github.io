M做自旋

有P找G，没P找P

![image-20220321153924982](/Users/user/playground/share/nrookie.github.io/collections/go/xunlianying/runtime/image-20220321153924982.png)





![image-20220321154053371](/Users/user/playground/share/nrookie.github.io/collections/go/xunlianying/runtime/image-20220321154053371.png)



![image-20220321154616837](/Users/user/playground/share/nrookie.github.io/collections/go/xunlianying/runtime/image-20220321154616837.png)



![image-20220321155307203](/Users/user/playground/share/nrookie.github.io/collections/go/xunlianying/runtime/image-20220321155307203.png)



![image-20220321155609837](/Users/user/playground/share/nrookie.github.io/collections/go/xunlianying/runtime/image-20220321155609837.png)



![image-20220321160014253](/Users/user/playground/share/nrookie.github.io/collections/go/xunlianying/runtime/image-20220321160014253.png)



![image-20220321160144884](/Users/user/playground/share/nrookie.github.io/collections/go/xunlianying/runtime/image-20220321160144884.png)





//go: inline 

// 防止代码内连

![image-20220321161309715](/Users/user/playground/share/nrookie.github.io/collections/go/xunlianying/runtime/image-20220321161309715.png)



![image-20220321161445730](/Users/user/playground/share/nrookie.github.io/collections/go/xunlianying/runtime/image-20220321161445730.png)



![image-20220321161650298](/Users/user/playground/share/nrookie.github.io/collections/go/xunlianying/runtime/image-20220321161650298.png)



![image-20220321162010306](/Users/user/playground/share/nrookie.github.io/collections/go/xunlianying/runtime/image-20220321162010306.png)





